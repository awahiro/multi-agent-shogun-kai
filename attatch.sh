#!/bin/bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# attatch.sh - multiagentã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ã‚¢ã‚¿ãƒƒãƒ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆ8ãƒšã‚¤ãƒ³çµ±åˆï¼‰:
#   +------------+------------+----------+----------+----------+
#   | dashboard  |   å°†è»     |   ä¾1    |   ä¾2    |   ä¾3    |
#   |   (0)      |   (1)      |   (2)    |   (3)    |   (4)    |
#   |   20%      |   20%      +----------+----------+----------+
#   |            |            |  è¶³è»½1   |  è¶³è»½2   |  å¿è€…    |
#   |            |            |   (5)    |   (6)    |   (7)    |
#   +------------+------------+----------+----------+----------+
#
# ä½¿ç”¨æ–¹æ³•:
#   ./attatch.sh           # multiagentã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ã‚¢ã‚¿ãƒƒãƒ
#   ./attatch.sh -h        # ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

set -e

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³è§£æ
while [[ $# -gt 0 ]]; do
    case $1 in
        -h|--help)
            echo ""
            echo "ğŸ¯ attatch.sh - multiagentã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ã‚¢ã‚¿ãƒƒãƒ"
            echo ""
            echo "ä½¿ç”¨æ–¹æ³•: ./attatch.sh [ã‚ªãƒ—ã‚·ãƒ§ãƒ³]"
            echo ""
            echo "ã‚ªãƒ—ã‚·ãƒ§ãƒ³:"
            echo "  -h, --help      ã“ã®ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º"
            echo ""
            exit 0
            ;;
        *)
            echo "ä¸æ˜ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³: $1"
            exit 1
            ;;
    esac
done

# multiagent ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª
if ! tmux has-session -t "multiagent" 2>/dev/null; then
    echo "ã€è­¦ã€‘multiagent ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒå­˜åœ¨ã—ã¾ã›ã‚“"
    echo "      å…ˆã« ./shutsujin_departure.sh ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„"
    exit 1
fi

echo "ã€å ±ã€‘multiagent ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ã‚¢ã‚¿ãƒƒãƒã—ã¾ã™..."
tmux attach-session -t multiagent
